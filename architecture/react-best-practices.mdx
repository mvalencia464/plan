---
title: "React Best Practices"
description: "57 Exhaustive Performance optimization guidelines from Vercel Engineering"
icon: "react"
---

<Info>
**Vercel Engineering Guidelines**

These practices are maintained by Vercel and focus on maximizing performance, reducing bundle sizes, and eliminating rendering bottlenecks in modern React/Next.js applications.
</Info>

## Overview

Comprehensive performance optimization guide containing **57 rules** across 8 categories. These rules are prioritized by their impact on the final application performance.

<Tip>
**Full Technical Reference**

For the exhaustive guide with detailed code examples and explanations for every rule, see the [Full Technical Reference](/architecture/react-best-practices-full).
</Tip>

### Rule Categories by Priority

| Priority | Category | Impact | Prefix |
| :--- | :--- | :--- | :--- |
| 1 | **Eliminating Waterfalls** | CRITICAL | `async-` |
| 2 | **Bundle Size Optimization** | CRITICAL | `bundle-` |
| 3 | **Server-Side Performance** | HIGH | `server-` |
| 4 | **Client-Side Data Fetching** | MEDIUM-HIGH | `client-` |
| 5 | **Re-render Optimization** | MEDIUM | `rerender-` |
| 6 | **Rendering Performance** | MEDIUM | `rendering-` |
| 7 | **JavaScript Performance** | LOW-MEDIUM | `js-` |
| 8 | **Advanced Patterns** | LOW | `advanced-` |

---

## Detailed Performance Rules

<AccordionGroup>
  <Accordion title="1. Eliminating Waterfalls (CRITICAL)" icon="bolt">
    *Stop sequential operations from blocking your page load.*
    
    - **async-defer-await**: Move `await` into specific branches where actually used.
    - **async-parallel**: Use `Promise.all()` for independent operations.
    - **async-dependencies**: Use `better-all` for partial dependencies.
    - **async-api-routes**: Start promises early, await late in API routes.
    - **async-suspense-boundaries**: Use `Suspense` to stream content.
  </Accordion>

  <Accordion title="2. Bundle Size Optimization (CRITICAL)" icon="box-archive">
    *Reduce the JavaScript weight sent to the client.*
    
    - **bundle-barrel-imports**: Import directly, avoid barrel files.
    - **bundle-dynamic-imports**: Use `next/dynamic` for heavy components.
    - **bundle-defer-third-party**: Load analytics/logging after hydration.
    - **bundle-conditional**: Load modules only when feature is activated.
    - **bundle-preload**: Preload on hover/focus for perceived speed.
  </Accordion>

  <Accordion title="3. Server-Side Performance (HIGH)" icon="server">
    *Optimize server execution time and serialization.*
    
    - **server-auth-actions**: Authenticate server actions like API routes.
    - **server-cache-react**: Use `React.cache()` for per-request deduplication.
    - **server-cache-lru**: Use LRU cache for cross-request caching.
    - **server-dedup-props**: Avoid duplicate serialization in RSC props.
    - **server-serialization**: Minimize data passed to client components.
    - **server-parallel-fetching**: Restructure components to parallelize fetches.
    - **server-after-nonblocking**: Use `after()` for non-blocking operations.
  </Accordion>

  <Accordion title="4. Client-Side Data Fetching (MEDIUM-HIGH)" icon="cloud-arrow-down">
    *Efficiently manage requests on the client side.*
    
    - **client-swr-dedup**: Use SWR for automatic request deduplication.
    - **client-event-listeners**: Deduplicate global event listeners.
    - **client-passive-event-listeners**: Use passive listeners for scroll.
    - **client-localstorage-schema**: Version and minimize localStorage data.
  </Accordion>

  <Accordion title="5. Re-render Optimization (MEDIUM)" icon="arrows-rotate">
    *Avoid unnecessary React reconciliation cycles.*
    
    - **rerender-defer-reads**: Don't subscribe to state only used in callbacks.
    - **rerender-memo**: Extract expensive work into memoized components.
    - **rerender-memo-with-default-value**: Hoist default non-primitive props.
    - **rerender-dependencies**: Use primitive dependencies in effects.
    - **rerender-derived-state**: Subscribe to derived booleans, not raw values.
    - **rerender-derived-state-no-effect**: Derive state during render, not effects.
    - **rerender-functional-setstate**: Use functional setState for stable callbacks.
    - **rerender-lazy-state-init**: Pass function to useState for expensive values.
    - **rerender-simple-expression-in-memo**: Avoid memo for simple primitives.
    - **rerender-move-effect-to-event**: Put interaction logic in event handlers.
    - **rerender-transitions**: Use `startTransition` for non-urgent updates.
    - **rerender-use-ref-transient-values**: Use refs for transient frequent values.
  </Accordion>

  <Accordion title="6. Rendering Performance (MEDIUM)" icon="display">
    *Optimize the visual update and hydration process.*
    
    - **rendering-animate-svg-wrapper**: Animate div wrapper, not SVG element.
    - **rendering-content-visibility**: Use `content-visibility` for long lists.
    - **rendering-hoist-jsx**: Extract static JSX outside components.
    - **rendering-svg-precision**: Reduce SVG coordinate precision.
    - **rendering-hydration-no-flicker**: Use inline script for client-only data.
    - **rendering-hydration-suppress-warning**: Suppress expected mismatches.
    - **rendering-activity**: Use `Activity` component for show/hide.
    - **rendering-conditional-render**: Use ternary, not `&&` for conditionals.
    - **rendering-usetransition-loading**: Prefer `useTransition` for loading state.
  </Accordion>

  <Accordion title="7. JavaScript Performance (LOW-MEDIUM)" icon="js">
    *Core JS execution and DOM interaction efficiency.*
    
    - **js-batch-dom-css**: Group CSS changes via classes or `cssText`.
    - **js-index-maps**: Build `Map` for repeated lookups.
    - **js-cache-property-access**: Cache object properties in loops.
    - **js-cache-function-results**: Cache function results in module-level `Map`.
    - **js-cache-storage**: Cache localStorage/sessionStorage reads.
    - **js-combine-iterations**: Combine multiple filter/map into one loop.
    - **js-length-check-first**: Check array length before expensive comparison.
    - **js-early-exit**: Return early from functions.
    - **js-hoist-regexp**: Hoist RegExp creation outside loops.
    - **js-min-max-loop**: Use loop for min/max instead of sort.
    - **js-set-map-lookups**: Use `Set`/`Map` for O(1) lookups.
    - **js-tosorted-immutable**: Use `toSorted()` for immutability.
  </Accordion>

  <Accordion title="8. Advanced Patterns (LOW)" icon="stars">
    *Complex architectural patterns for niche performance needs.*
    
    - **advanced-event-handler-refs**: Store event handlers in refs.
    - **advanced-init-once**: Initialize app once per app load.
    - **advanced-use-latest**: `useLatest` for stable callback refs.
  </Accordion>
</AccordionGroup>

---

## How to Apply These Skills

When working with **AntiGravity** or other AI agents, you can reference these skills to ensure the generated code follows these high-performance patterns.

<Tip>
**Prompting for Performance**

When starting a task, you can tell the agent:
*"Follow the Vercel React Best Practices, specifically focusing on eliminating waterfalls and optimizing bundle size."*
</Tip>

## References

- [React Documentation](https://react.dev)
- [Next.js Documentation](https://nextjs.org)
- [SWR Library](https://swr.vercel.app)
- [Vercel Blog: How we made the dashboard twice as fast](https://vercel.com/blog/how-we-made-the-vercel-dashboard-twice-as-fast)
